!function(t){var e={};function r(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e){LeafletWidget.methods.addDrawToolbar=function(t,e,r){(function(){var o,a=this;if(a.drawToolbar&&(a.drawToolbar.removeFrom(a),delete a.drawToobar),t){if(!(o=a.layerManager.getLayer("geojson",t)))throw"GeoJSON layer with ID "+t+" not Found";a._editableGeoJSONLayerId=t}else e||(e="editableFeatureGroup"),o=a.layerManager.getLayerGroup(e,!0),a._editableFeatureGroupName=e;if(r&&r.draw&&r.draw.marker&&r.draw.marker.markerIcon&&r.draw.marker.markerIconFunction&&(r.draw.marker.icon=r.draw.marker.markerIconFunction(r.draw.marker.markerIcon)),!$.isEmptyObject(r.edit)){var n={};r.edit.remove||(n.remove=!1),r.edit.edit?$.isEmptyObject(r.edit.selectedPathOptions)||(n.edit={},n.edit.selectedPathOptions=r.edit.selectedPathOptions):n.edit=!1,$.isEmptyObject(r.edit.poly)||(n.poly=r.edit.poly),n.featureGroup=o,r.edit=n}if(r&&r.toolbar){var l=r.toolbar,i=L.drawLocal.draw.toolbar;L.drawLocal.draw.toolbar.buttons.polygon=l.buttons.polygon?l.buttons.polygon:i.buttons.polygon,L.drawLocal.draw.toolbar.buttons.polyline=l.buttons.polyline?l.buttons.polyline:i.buttons.polyline,L.drawLocal.draw.toolbar.buttons.rectangle=l.buttons.rectangle?l.buttons.rectangle:i.buttons.rectangle,L.drawLocal.draw.toolbar.buttons.circle=l.buttons.circle?l.buttons.circle:i.buttons.circle,L.drawLocal.draw.toolbar.buttons.marker=l.buttons.marker?l.buttons.marker:i.buttons.marker,L.drawLocal.draw.toolbar.buttons.circlemarker=l.buttons.circlemarker?l.buttons.circlemarker:i.buttons.circlemarker,L.drawLocal.draw.toolbar.actions.title=l.actions.title?l.actions.rectangle:i.actions.title,L.drawLocal.draw.toolbar.actions.text=l.actions.text?l.actions.text:i.actions.text,L.drawLocal.draw.toolbar.finish.title=l.finish.title?l.finish.rectangle:i.finish.title,L.drawLocal.draw.toolbar.finish.text=l.finish.text?l.finish.text:i.finish.text,L.drawLocal.draw.toolbar.undo.title=l.undo.title?l.undo.rectangle:i.undo.title,L.drawLocal.draw.toolbar.undo.text=l.undo.text?l.undo.text:i.undo.text}if(r&&r.handlers){var d=r.handlers,s=L.drawLocal.draw.handlers;L.drawLocal.draw.handlers.circle.radius=d.circle.radius?d.circle.radius:s.circle.radius,L.drawLocal.draw.handlers.circle.tooltip.start=d.circle.tooltip.start?d.circle.tooltip.start:s.circle.tooltip.start,L.drawLocal.draw.handlers.circlemarker.tooltip.start=d.circlemarker.tooltip.start?d.circlemarker.tooltip.start:s.circlemarker.tooltip.start,L.drawLocal.draw.handlers.marker.tooltip.start=d.marker.tooltip.start?d.marker.tooltip.start:s.marker.tooltip.start,L.drawLocal.draw.handlers.polygon.tooltip.start=d.polygon.tooltip.start?d.polygon.tooltip.start:s.polygon.tooltip.start,L.drawLocal.draw.handlers.polygon.tooltip.cont=d.polygon.tooltip.cont?d.polygon.tooltip.cont:s.polygon.tooltip.cont,L.drawLocal.draw.handlers.polygon.tooltip.end=d.polygon.tooltip.end?d.polygon.tooltip.end:s.polygon.tooltip.end,L.drawLocal.draw.handlers.polyline.error=d.polyline.error?d.polyline.error:s.polyline.error,L.drawLocal.draw.handlers.polyline.tooltip.start=d.polyline.tooltip.start?d.polyline.tooltip.start:s.polyline.tooltip.start,L.drawLocal.draw.handlers.polyline.tooltip.cont=d.polyline.tooltip.cont?d.polyline.tooltip.cont:s.polyline.tooltip.cont,L.drawLocal.draw.handlers.polyline.tooltip.end=d.polyline.tooltip.end?d.polyline.tooltip.end:s.polyline.tooltip.end,L.drawLocal.draw.handlers.rectangle.tooltip.start=d.rectangle.tooltip.start?d.rectangle.tooltip.start:s.rectangle.tooltip.start}a.drawToolbar=new L.Control.Draw(r),a.drawToolbar.addTo(a),a.on(L.Draw.Event.DRAWSTART,function(t){HTMLWidgets.shinyMode&&Shiny.onInputChange(a.id+"_draw_start",{feature_type:t.layerType})}),a.on(L.Draw.Event.DRAWSTOP,function(t){HTMLWidgets.shinyMode&&Shiny.onInputChange(a.id+"_draw_stop",{feature_type:t.layerType})}),a.on(L.Draw.Event.CREATED,function(t){r.draw.singleFeature&&o.getLayers().length>0&&o.clearLayers();var e=t.layer;o.addLayer(e);var n=L.stamp(e);e.feature={type:"Feature",properties:{_leaflet_id:n,feature_type:t.layerType}},"function"==typeof e.getRadius&&(e.feature.properties.radius=e.getRadius()),HTMLWidgets.shinyMode&&(Shiny.onInputChange(a.id+"_draw_new_feature",e.toGeoJSON()),Shiny.onInputChange(a.id+"_draw_all_features",o.toGeoJSON()))}),a.on(L.Draw.Event.EDITSTART,function(t){HTMLWidgets.shinyMode&&Shiny.onInputChange(a.id+"_draw_editstart",!0)}),a.on(L.Draw.Event.EDITSTOP,function(t){HTMLWidgets.shinyMode&&Shiny.onInputChange(a.id+"_draw_editstop",!0)}),a.on(L.Draw.Event.EDITED,function(t){var e=t.layers;e.eachLayer(function(t){var e=L.stamp(t);t.feature||(t.feature={type:"Feature"}),t.feature.properties||(t.feature.properties={}),t.feature.properties._leaflet_id=e,t.feature.properties.layerId=t.options.layerId,"function"==typeof t.getRadius&&(t.feature.properties.radius=t.getRadius())}),HTMLWidgets.shinyMode&&(Shiny.onInputChange(a.id+"_draw_edited_features",e.toGeoJSON()),Shiny.onInputChange(a.id+"_draw_all_features",o.toGeoJSON()))}),a.on(L.Draw.Event.DELETESTART,function(t){HTMLWidgets.shinyMode&&Shiny.onInputChange(a.id+"_draw_deletestart",!0)}),a.on(L.Draw.Event.DELETESTOP,function(t){HTMLWidgets.shinyMode&&Shiny.onInputChange(a.id+"_draw_deletestop",!0)}),a.on(L.Draw.Event.DELETED,function(t){var e=t.layers;e.eachLayer(function(t){var e=L.stamp(t);t.feature||(t.feature={type:"Feature"}),t.feature.properties||(t.feature.properties={}),t.feature.properties._leaflet_id=e,t.feature.properties.layerId=t.options.layerId,"function"==typeof t.getRadius&&(t.feature.properties.radius=t.getRadius())}),HTMLWidgets.shinyMode&&(Shiny.onInputChange(a.id+"_draw_deleted_features",e.toGeoJSON()),Shiny.onInputChange(a.id+"_draw_all_features",o.toGeoJSON()))})}).call(this)},LeafletWidget.methods.removeDrawToolbar=function(t){(function(){var e=this;e.drawToolbar&&(e.drawToolbar.remove(e),delete e.drawToolbar),e._editableFeatureGroupName&&t&&e.layerManager.getLayerGroup(e._editableFeatureGroupName,!1).clearLayers(),e._editableFeatureGroupName=null,e._editableGeoJSONLayerId&&t&&e.layerManager.removeLayer("geojson",e._editableGeoJSONLayerId),e._editableGeoJSONLayerId=null}).call(this)},LeafletWidget.methods.getDrawnItems=function(){var t;return this._editableGeoJSONLayerId?t=this.layerManager.getLayer("geojson",this._editableGeoJSONLayerId):this._editableFeatureGroupName&&(t=this.layerManager.getLayerGroup(this._editableFeatureGroupName,!1)),t?t.toGeoJSON():null}}]);